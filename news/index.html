<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • loggit2</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://filedn.eu/ldV4y5YKQXjQ0wNYvKjlJrp/opengraph_filled_2.png"><link rel="icon" type="image/svg+xml" href="https://filedn.eu/ldV4y5YKQXjQ0wNYvKjlJrp/favicon.svg"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">loggit2</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/loggit2.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/fork.html">Why the Fork?</a></li>
    <li><a class="dropdown-item" href="../articles/further_configurations.html">Further Configurations</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/MEO265/loggit2/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Changelog</h1>
      <small>Source: <a href="https://github.com/MEO265/loggit2/blob/main/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.4.0" id="loggit2-240">loggit2 2.4.0<a class="anchor" aria-label="anchor" href="#loggit2-240"></a></h2><p class="text-muted">CRAN release: 2025-06-01</p>
<div class="section level3">
<h3 id="new-features-2-4-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-2-4-0"></a></h3>
<ul><li>
<code><a href="../reference/set_call_options.html">set_call_options()</a></code> offers new option to log condition calls or even the full call stack. <code><a href="../reference/get_call_options.html">get_call_options()</a></code> returns the current settings.</li>
<li>All condition log handlers e.g. <code><a href="../reference/warning.html">warning()</a></code> and <code><a href="../reference/with_loggit.html">with_loggit()</a></code> now support call logging.</li>
<li>Added <code><a href="../reference/debuginfo.html">debuginfo()</a></code> as an additional log handler for debugging purposes.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-4-0">Minor Changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-4-0"></a></h3>
<ul><li>
<code><a href="../reference/loggit.html">loggit()</a></code> now checks the <code>...</code> arguments for use of reserved names, currently <code>log_call</code> and <code>timestamp</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="internals-2-4-0">Internals<a class="anchor" aria-label="anchor" href="#internals-2-4-0"></a></h3>
<ul><li>Added fallback for <code><a href="../reference/find_call.html">find_call()</a></code>.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.1" id="loggit2-231">loggit2 2.3.1<a class="anchor" aria-label="anchor" href="#loggit2-231"></a></h2><p class="text-muted">CRAN release: 2024-07-25</p>
<div class="section level3">
<h3 id="bugfixes-2-3-1">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-3-1"></a></h3>
<ul><li>
<code><a href="../reference/warning.html">warning()</a></code> and <code><a href="../reference/stop.html">stop()</a></code> now respect <code>call. = FALSE</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-3-1">Minor Changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-3-1"></a></h3>
<ul><li>Some small changes to increase logging speed</li>
<li>
<code>wìth_loggit()</code> now opens a connection to the log file at the beginning of the block and closes it at the end. This increases the speed of logging noticeably, especially for many log entries.<br>
The log file will be created during logging, but will automatically be removed if no log entries were made.</li>
<li>
<code><a href="https://rdrr.io/r/base/conditions.html" class="external-link">conditionMessage()</a></code> is now used to extract the message from conditions. This is more robust than <code>con[["message"]]</code> and should work for all conditions, especially also for <code>rlang</code> conditions.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.3.0" id="loggit2-230">loggit2 2.3.0<a class="anchor" aria-label="anchor" href="#loggit2-230"></a></h2><p class="text-muted">CRAN release: 2024-06-08</p>
<div class="section level3">
<h3 id="breaking-changes-2-3-0">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-3-0"></a></h3>
<ul><li>Custom <code>sanitizer</code>s and <code>unsanitizer</code>s are no longer supported. This decision was made because no active user is known, and this functionality severely limits further development. If custom <code>sanitizer</code>s were previously used, they can simply be executed before or after <code><a href="../reference/loggit.html">loggit()</a></code> or <code><a href="../reference/read_logs.html">read_logs()</a></code>.<br>
If custom sanitizers were used to circumvent bugs, please report them, so they can be fixed.</li>
<li>Special characters are no longer escaped by replacement, but rather by <code>"\"</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-3-0">New Features<a class="anchor" aria-label="anchor" href="#new-features-2-3-0"></a></h3>
<ul><li>Added <code><a href="../reference/convert_to_csv.html">convert_to_csv()</a></code> to convert log files to CSV format.</li>
<li>Added <code><a href="../reference/with_loggit.html">with_loggit()</a></code> to log third-party code or to easily use different <code><a href="../reference/loggit.html">loggit()</a></code> parameters for a chunk of code.</li>
<li>
<code>NA</code>s are now stored as <code>null</code> in the JSON log, and <code><a href="../reference/read_logs.html">read_logs()</a></code> also restores these as <code>NA</code>. This was previously (unintentionally) guaranteed by replacing the <code>NA</code> with <code>"__NA__"</code>.</li>
<li>
<code><a href="../reference/read_logs.html">read_logs()</a></code> now allows reading the logs in reverse order using the <code>last_first</code> argument.</li>
<li>A global log level can now be set using <code><a href="../reference/set_log_level.html">set_log_level()</a></code>, which is used by all functions unless otherwise stated. The log levels are: <code>"DEBUG"</code>, <code>"INFO"</code>, <code>"WARN"</code>, <code>"ERROR"</code>, and <code>"NONE"</code>.</li>
<li>Added <code><a href="../reference/set_echo.html">set_echo()</a></code> to control globally whether log messages are echoed to the console.</li>
<li>All condition log handlers (e.g., <code><a href="../reference/warning.html">warning()</a></code>) allow <code>NA</code> for the parameter <code>.loggit</code>. If <code>NA</code>, the log level set by <code><a href="../reference/set_log_level.html">set_log_level()</a></code> is used to determine if the condition should be logged. This is the new default behavior, but since the default log level is <code>"DEBUG"</code>, this should not change the behavior of existing code.</li>
<li>All <code>set_*</code> functions now return the previous value of the setting.</li>
<li>The default settings can now be controlled by the system environment variables <code>FILE_LOGGIT2</code>, <code>TIMESTAMP_LOGGIT2</code>, <code>ECHO_LOGGIT2</code> and <code>LEVEL_LOGGIT2</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-2-3-0">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-3-0"></a></h3>
<ul><li>
<code><a href="../reference/read_logs.html">read_logs()</a></code> now correctly reads empty character values <code>""</code>, as in <code>{"key": ""}</code>. Previously, empty fields were read as <code>NA</code>. This meant that when <code><a href="../reference/rotate_logs.html">rotate_logs()</a></code> was used, these entries could completely disappear from the respective JSON object.</li>
<li>
<code><a href="../reference/loggit.html">loggit()</a></code> now does not unintentionally “repair” argument names of log entries. Previously, the names were replaced by <code>check.names</code> of <code><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame()</a></code>, which could lead to unexpected behavior. Names that are not valid JSON keys are now escaped according to the JSON standard.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-3-0">Minor Changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-3-0"></a></h3>
<ul><li>
<code><a href="../reference/read_logs.html">read_logs()</a></code> now returns a <code>data.frame</code> with the empty character columns “timestamp”, “log_lvl”, and “log_msg” instead of an empty (0x0) <code>data.frame</code> if the log file has no entries.</li>
<li>The JSON reading functions are more tolerant of manual changes to the log.</li>
<li>The parameter <code>exprs</code> was added to <code><a href="../reference/stopifnot.html">stopifnot()</a></code> and included in the documentation. This has no impact on functionality due to the specific way <code><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">base::stopifnot()</a></code> is called internally.</li>
<li>
<code><a href="../reference/loggit.html">loggit()</a></code> now throws an error if there are unnamed <code>...</code> arguments. Previously, these were silently named by <code>fix.empty.names</code> of <code>data.frame</code>, which could lead to unexpected behavior.</li>
<li>
<code><a href="../reference/loggit.html">loggit()</a></code> now also checks the length of the <code>log_lvl</code> and <code>log_msg</code> arguments and only uses the first element. Previously, the log entry had been multiplied, leading to unintended consequences regarding <code>custom_log_lvl</code>.</li>
</ul></div>
<div class="section level3">
<h3 id="internals-2-3-0">Internals<a class="anchor" aria-label="anchor" href="#internals-2-3-0"></a></h3>
<ul><li>
<code>write_ndjson</code> no longer warns if the log contains unsanitized line breaks. This warning could only be generated by package-internal errors (therefore nonsensical in the CRAN package) or by a custom <code>sanitizer</code>, but in this case only this one character was specifically tested and thus provides a false sense of security.</li>
<li>The package now requires compilation. This is necessary because the JSON parser was written in C++ for faster reading.</li>
<li>
<code>loggit2</code> now requires at least R 4.0.0.</li>
</ul></div>
</div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="2.2.2" id="loggit2-222">loggit2 2.2.2<a class="anchor" aria-label="anchor" href="#loggit2-222"></a></h2><p class="text-muted">CRAN release: 2024-05-03</p>
<div class="section level3">
<h3 id="breaking-changes-2-2-2">Breaking Changes<a class="anchor" aria-label="anchor" href="#breaking-changes-2-2-2"></a></h3>
<ul><li>Custom <code>sanitizer</code>s and <code>unsanitizer</code>s must be able to process character vectors. Previously, only the processing of vectors of length one was explicitly required.</li>
</ul></div>
<div class="section level3">
<h3 id="new-features-2-2-2">New Features<a class="anchor" aria-label="anchor" href="#new-features-2-2-2"></a></h3>
<ul><li>
<code><a href="../reference/message.html">message()</a></code>, <code><a href="../reference/warning.html">warning()</a></code>, and <code><a href="../reference/stop.html">stop()</a></code> now accept conditions as input like their base R equivalents.</li>
<li>New <code><a href="../reference/stopifnot.html">stopifnot()</a></code> handler.</li>
<li>
<code><a href="../reference/set_logfile.html">set_logfile()</a></code> has a new argument <code>create</code> that allows the user to create the file if it does not exist.</li>
</ul></div>
<div class="section level3">
<h3 id="bugfixes-2-2-2">Bugfixes<a class="anchor" aria-label="anchor" href="#bugfixes-2-2-2"></a></h3>
<ul><li>
<code><a href="../reference/read_logs.html">read_logs()</a></code> processes entries with <code>": "</code> correctly. Previously, entries were truncated and/or assigned to incorrect columns.</li>
<li>
<code><a href="../reference/message.html">message()</a></code>, <code><a href="../reference/warning.html">warning()</a></code>, and <code><a href="../reference/stop.html">stop()</a></code> now use the same call in their messages and their condition objects as their base R equivalents and no longer give themselves as the call. For <code><a href="../reference/warning.html">warning()</a></code> and <code><a href="../reference/stop.html">stop()</a></code>, there can be deviations in very rare cases, as the function that determines the call for these in base R is not provided at the R or C level, nor is the necessary C header.</li>
<li>
<code><a href="../reference/set_logfile.html">set_logfile()</a></code> now attempts to convert relative paths to absolute paths. This prevents the logfile from being inadvertently changed when switching (even temporarily) the working directory. If this unintended side effect was used intentionally, the same effect can be achieved by explicitly resetting the path.</li>
<li>
<code><a href="../reference/set_logfile.html">set_logfile()</a></code> now correctly outputs the randomly generated temporary file as the new path in its confirmation message when <code>NULL</code> is given as an argument.</li>
<li>
<code>rotate_logs(rotate_lines = 0L)</code> now empties the log as expected. Additionally, an error is thrown for negative values.</li>
<li>
<code><a href="../reference/rotate_logs.html">rotate_logs()</a></code> preserves the original sanitization of the log entries. Previously, the sanitization was lost when the log was rotated for values between 0 and the number of log entries.</li>
<li>
<code><a href="../reference/read_logs.html">read_logs()</a></code> now correctly reads empty log fields as <code>NA_character_</code>. Previously, empty fields were read as <code>""</code> when the first entry of the field was empty.</li>
</ul></div>
<div class="section level3">
<h3 id="minor-changes-2-2-2">Minor Changes<a class="anchor" aria-label="anchor" href="#minor-changes-2-2-2"></a></h3>
<ul><li>All <code>set_*</code> functions use <code><a href="../reference/message.html">message()</a></code> instead of <code><a href="https://rdrr.io/r/base/print.html" class="external-link">print()</a></code> for confirmation. This ensures that the confirmations no longer interfere with the log via echo.</li>
<li>
<code><a href="../reference/sanitizers.html">default_ndjson_sanitizer()</a></code>, which was not exported but is visible in the documentation, now follows the rules for sanitizers.</li>
</ul></div>
<div class="section level3">
<h3 id="documentation-2-2-2">Documentation<a class="anchor" aria-label="anchor" href="#documentation-2-2-2"></a></h3>
<ul><li>Functions that were only for internal use (and were not exported) were marked as such and are no longer visible in the index.</li>
</ul></div>
<div class="section level3">
<h3 id="fork-2-2-2">Fork<a class="anchor" aria-label="anchor" href="#fork-2-2-2"></a></h3>
<ul><li>The name changed from <code>loggit</code> to <code>loggit2</code>.</li>
<li>The maintainership has been transferred from “Ryan Price” to “Matthias Ollech”.</li>
<li>For news of older versions, see Ryan Price’s <code>loggit</code> package.</li>
</ul></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>loggit2</p>
</div>

<div class="pkgdown-footer-right">
  <p>Developed by Matthias Ollech, Ryan Price.</p>
</div>

    </footer></div>





  </body></html>

