<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="loggit2">
<title>Getting Started • loggit2</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Getting Started">
<meta property="og:description" content="loggit2">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">loggit2</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.2.2.9999</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item">
  <a class="nav-link" href="../articles/loggit2.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/fork.html">Why the Fork?</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/MEO265/loggit2/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Getting Started</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/MEO265/loggit2/blob/HEAD/vignettes/loggit2.Rmd" class="external-link"><code>vignettes/loggit2.Rmd</code></a></small>
      <div class="d-none name"><code>loggit2.Rmd</code></div>
    </div>

    
    
<p><code>loggit2</code> is an easy-to-use, yet powerful, <a href="https://github.com/ndjson" class="external-link"><code>ndjson</code></a> logger. It is
very fast, has zero external dependencies, and can be as straightforward
or as integral as you want to make it.</p>
<div class="section level2">
<h2 id="preparation">Preparation<a class="anchor" aria-label="anchor" href="#preparation"></a>
</h2>
<p>No preparations are needed to use <code>loggit2</code>. However, it
is recommended to explicitly set a log file using
<code>loggit2::set_logfile("path/to/your/file")</code>, as
<code>loggit2</code> defaults to creating a file in your temporary
directory.<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;This is done to &lt;a href="https://cran.r-project.org/web/packages/policies.html" class="external-link"&gt;CRAN
Repository Policy&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Packages should not write in the user’s home filespace (including
clipboards), nor anywhere else on the file system apart from the R
session’s temporary directory &lt;code&gt;[...]&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;'><sup>1</sup></a></p>
</div>
<div class="section level2">
<h2 id="logging">Logging<a class="anchor" aria-label="anchor" href="#logging"></a>
</h2>
<p>There are three ways to populate the log in <code>loggit2</code>.
First, through wrapper functions of the base <code>R</code> condition
handler, second, via the <code><a href="../reference/loggit.html">loggit()</a></code> log function, and third,
by logging (external) expressions using <code><a href="../reference/with_loggit.html">with_loggit()</a></code>.</p>
<p>Each function of these three methods has the parameter
<code>echo</code>, which determines whether the log entries should also
be echoed to <code>stdout</code>.</p>
<div class="section level3">
<h3 id="condition-log-handling">Condition Log Handling<a class="anchor" aria-label="anchor" href="#condition-log-handling"></a>
</h3>
<p><code>loggit2</code> provides a set of wrappings for base R’s
<code><a href="../reference/message.html">message()</a></code>, <code><a href="../reference/warning.html">warning()</a></code>, <code><a href="../reference/stop.html">stop()</a></code> and
<code><a href="../reference/stopifnot.html">stopifnot()</a></code> functions that maintain identical
functionality<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;This means in particular that &lt;code&gt;tryCatch&lt;/code&gt; and
similar functions can be used as usual.&lt;/p&gt;"><sup>2</sup></a>, except the additional logging. Thus, it is
sufficient to import the <code>loggit2</code> namespace, for example by
using <code><a href="https://github.com/MEO265/loggit2" class="external-link">library("loggit2")</a></code>, or by prefixing
<code>loggit2::</code> at the desired locations.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"This is another message"</span><span class="op">)</span></span>
<span><span class="co">#&gt; This is another message</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/message.html">message</a></span><span class="op">(</span><span class="st">"This is a message"</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"timestamp": "2024-05-30T17:23:06+0000", "log_lvl": "INFO", "log_msg": "This is a message\n"}</span></span>
<span><span class="co">#&gt; This is a message</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">"This is another warning"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: This is another warning</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="kw"><a href="../reference/warning.html">warning</a></span><span class="op">(</span><span class="st">"This is a warning"</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"timestamp": "2024-05-30T17:23:06+0000", "log_lvl": "WARN", "log_msg": "This is a warning"}</span></span>
<span><span class="co">#&gt; Warning: This is a warning</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="kw"><a href="https://rdrr.io/r/base/stop.html" class="external-link">stop</a></span><span class="op">(</span><span class="st">"This is another error"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): This is another error</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="kw"><a href="../reference/stop.html">stop</a></span><span class="op">(</span><span class="st">"This is an error"</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"timestamp": "2024-05-30T17:23:06+0000", "log_lvl": "ERROR", "log_msg": "This is an error"}</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): This is an error</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="st">"This is another condition"</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error: This is another condition</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/stopifnot.html">stopifnot</a></span><span class="op">(</span><span class="st">"This is another condition"</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"timestamp": "2024-05-30T17:23:06+0000", "log_lvl": "ERROR", "log_msg": "This is another condition"}</span></span>
<span><span class="co">#&gt; Error: This is another condition</span></span></code></pre></div>
<p>Besides the <code>echo</code> parameter, the functions have an
additional parameter <code>.loggit</code>, which allows to deactivate
the logging such that the function behaves exactly like the base
<code>R</code> equivalents.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="kw"><a href="../reference/warning.html">warning</a></span><span class="op">(</span><span class="st">"This is a alternative warning"</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: This is a alternative warning</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">loggit2</span><span class="fu">::</span><span class="kw"><a href="../reference/warning.html">warning</a></span><span class="op">(</span><span class="st">"This is not part of the log"</span>, .loggit <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: This is not part of the log</span></span></code></pre></div>
<details><summary>
Click here to see the generated log
</summary><pre><code><span><span class="co">#&gt;                  timestamp log_lvl                       log_msg</span></span>
<span><span class="co">#&gt; 1 2024-05-30T17:23:06+0000    INFO           This is a message\n</span></span>
<span><span class="co">#&gt; 2 2024-05-30T17:23:06+0000    WARN             This is a warning</span></span>
<span><span class="co">#&gt; 3 2024-05-30T17:23:06+0000   ERROR              This is an error</span></span>
<span><span class="co">#&gt; 4 2024-05-30T17:23:06+0000   ERROR     This is another condition</span></span>
<span><span class="co">#&gt; 5 2024-05-30T17:23:07+0000    WARN This is a alternative warning</span></span></code></pre>
</details>
</div>
<div class="section level3">
<h3 id="explicit-log-function">Explicit Log Function<a class="anchor" aria-label="anchor" href="#explicit-log-function"></a>
</h3>
<p><code>loggit2</code> allows direct access to the core logging
function <code><a href="../reference/loggit.html">loggit()</a></code>. This enables setting the log level
directly during the call and creating arbitrary fields in the log.</p>
<p>This function does not trigger any conditions; it only populates the
log.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/loggit.html">loggit</a></span><span class="op">(</span><span class="st">"INFO"</span>, <span class="st">"This is a message"</span>, ID <span class="op">=</span> <span class="fl">1L</span>, boole <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"timestamp": "2024-05-30T17:23:07+0000", "log_lvl": "INFO", "log_msg": "This is a message", "ID": "1", "boole": "TRUE"}</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/loggit.html">loggit</a></span><span class="op">(</span><span class="st">"WARN"</span>, <span class="st">"This is a alternative warning"</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/loggit.html">loggit</a></span><span class="op">(</span><span class="st">"DEBUG"</span>, <span class="st">"This is a message"</span>, Why <span class="op">=</span> <span class="st">"Because"</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p>To allow log levels other than “DEBUG”, “INFO”, “WARN” or “ERROR” the
<code>custom_log_lvl</code> parameter must be set.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/loggit.html">loggit</a></span><span class="op">(</span><span class="st">"CRITICAL"</span>, <span class="st">"Critical error"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in loggit2::loggit("CRITICAL", "Critical error"): Nonstandard log_lvl ('CRITICAL').</span></span>
<span><span class="co">#&gt; Should be one of DEBUG, INFO, WARN, or ERROR. Please check if you made a typo.</span></span>
<span><span class="co">#&gt; If you insist on passing a custom level, please set 'custom_log_lvl = TRUE' in the call to 'loggit()'.</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/loggit.html">loggit</a></span><span class="op">(</span><span class="st">"CRITICAL"</span>, <span class="st">"Critical error 2"</span>, custom_log_lvl <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"timestamp": "2024-05-30T17:23:07+0000", "log_lvl": "CRITICAL", "log_msg": "Critical error 2"}</span></span></code></pre></div>
<details><summary>
Click here to see the generated log
</summary><pre><code><span><span class="co">#&gt;                  timestamp  log_lvl                       log_msg   ID boole     Why</span></span>
<span><span class="co">#&gt; 1 2024-05-30T17:23:07+0000     INFO             This is a message    1  TRUE    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2 2024-05-30T17:23:07+0000     WARN This is a alternative warning &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 3 2024-05-30T17:23:07+0000    DEBUG             This is a message &lt;NA&gt;  &lt;NA&gt; Because</span></span>
<span><span class="co">#&gt; 4 2024-05-30T17:23:07+0000 CRITICAL              Critical error 2 &lt;NA&gt;  &lt;NA&gt;    &lt;NA&gt;</span></span></code></pre>
</details>
</div>
<div class="section level3">
<h3 id="log-expressions">Log Expressions<a class="anchor" aria-label="anchor" href="#log-expressions"></a>
</h3>
<p>One will repeatedly encounter situations where conditions need to be
logged from code without wanting to or being able to modify it (e.g.,
when dealing with functions from external packages). In this case,
<code><a href="../reference/with_loggit.html">with_loggit()</a></code> comes into play. This function allows logging
conditions from arbitrary expressions without restricting
functionality<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Just like with the direct use of the wrappers for
condition handlers, &lt;code&gt;tryCatch&lt;/code&gt; and similar mechanisms can be
used as usual.&lt;/p&gt;"><sup>3</sup></a> or needing to modify the code.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fun_a</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">"This is a warning"</span><span class="op">)</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"This is a message"</span><span class="op">)</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/r/base/stopifnot.html" class="external-link">stopifnot</a></span><span class="op">(</span><span class="st">"This is true"</span> <span class="op">=</span> <span class="fl">3L</span> <span class="op">==</span> <span class="fl">1L</span> <span class="op">+</span> <span class="fl">2L</span>, <span class="st">"This is not TRUE"</span> <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">fun_b</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">base</span><span class="fu">::</span><span class="kw"><a href="https://rdrr.io/r/base/warning.html" class="external-link">warning</a></span><span class="op">(</span><span class="st">"This is a second warning"</span><span class="op">)</span></span>
<span>  <span class="fl">5L</span> <span class="op">+</span> <span class="fl">5L</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/with_loggit.html">with_loggit</a></span><span class="op">(</span><span class="fu">fun_b</span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; {"timestamp": "2024-05-30T17:23:07+0000", "log_lvl": "WARN", "log_msg": "This is a second warning"}</span></span>
<span><span class="co">#&gt; Warning in fun_b(): This is a second warning</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">x</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 10</span></span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/with_loggit.html">with_loggit</a></span><span class="op">(</span><span class="op">{</span></span>
<span>  <span class="va">x</span> <span class="op">&lt;-</span> <span class="fu">fun_b</span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="fu">fun_a</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">}</span>, echo <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in fun_b(): This is a second warning</span></span>
<span><span class="co">#&gt; Warning in fun_a(): This is a warning</span></span>
<span><span class="co">#&gt; This is a message</span></span>
<span><span class="co">#&gt; Error in fun_a(): This is not TRUE</span></span></code></pre></div>
<p>Additionally, <code><a href="../reference/with_loggit.html">with_loggit()</a></code> allows alternative settings
(logfile, echo, etc.) to be used for a specific section of code.</p>
<details><summary>
Click here to see the generated log
</summary><pre><code><span><span class="co">#&gt;                  timestamp log_lvl                  log_msg</span></span>
<span><span class="co">#&gt; 1 2024-05-30T17:23:07+0000    WARN This is a second warning</span></span>
<span><span class="co">#&gt; 2 2024-05-30T17:23:07+0000    WARN This is a second warning</span></span>
<span><span class="co">#&gt; 3 2024-05-30T17:23:07+0000    WARN        This is a warning</span></span>
<span><span class="co">#&gt; 4 2024-05-30T17:23:07+0000    INFO      This is a message\n</span></span>
<span><span class="co">#&gt; 5 2024-05-30T17:23:07+0000   ERROR         This is not TRUE</span></span></code></pre>
</details>
</div>
</div>
<div class="section level2">
<h2 id="post-processing">Post-Processing<a class="anchor" aria-label="anchor" href="#post-processing"></a>
</h2>
<p>A log is of little use without the ability to access and modify it.
Here are a few possibilities.</p>
<div class="section level3">
<h3 id="accessing-the-log">Accessing the Log<a class="anchor" aria-label="anchor" href="#accessing-the-log"></a>
</h3>
<p>As seen above, the log can be queried as a <code>data.frame</code>
using <code><a href="../reference/read_logs.html">read_logs()</a></code>.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/read_logs.html">read_logs</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;                  timestamp log_lvl                  log_msg</span></span>
<span><span class="co">#&gt; 1 2024-05-30T17:23:07+0000    WARN This is a second warning</span></span>
<span><span class="co">#&gt; 2 2024-05-30T17:23:07+0000    WARN This is a second warning</span></span>
<span><span class="co">#&gt; 3 2024-05-30T17:23:07+0000    WARN        This is a warning</span></span>
<span><span class="co">#&gt; 4 2024-05-30T17:23:07+0000    INFO      This is a message\n</span></span>
<span><span class="co">#&gt; 5 2024-05-30T17:23:07+0000   ERROR         This is not TRUE</span></span></code></pre></div>
<p>Alternatively, the log can also be saved as a CSV file using
<code><a href="../reference/convert_to_csv.html">convert_to_csv()</a></code>.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/convert_to_csv.html">convert_to_csv</a></span><span class="op">(</span><span class="st">"path/to/your/file.csv"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="rotating-the-log">Rotating the Log<a class="anchor" aria-label="anchor" href="#rotating-the-log"></a>
</h3>
<p>To maintain a clear log even in long-running sessions (e.g., in a
Shiny app hosted on a server), the log can be restricted to the last
<code>n</code> entries using <code>rotate_logs(n)</code>.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/rotate_logs.html">rotate_logs</a></span><span class="op">(</span><span class="fl">2L</span><span class="op">)</span></span></code></pre></div>
<details><summary>
Click here to see the generated log
</summary><pre><code><span><span class="co">#&gt;                  timestamp log_lvl             log_msg</span></span>
<span><span class="co">#&gt; 1 2024-05-30T17:23:07+0000    INFO This is a message\n</span></span>
<span><span class="co">#&gt; 2 2024-05-30T17:23:07+0000   ERROR    This is not TRUE</span></span></code></pre>
</details><div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">loggit2</span><span class="fu">::</span><span class="fu"><a href="../reference/rotate_logs.html">rotate_logs</a></span><span class="op">(</span><span class="fl">0L</span><span class="op">)</span></span></code></pre></div>
<details><summary>
Click here to see the generated log
</summary><pre><code><span><span class="co">#&gt; [1] timestamp log_lvl   log_msg  </span></span>
<span><span class="co">#&gt; &lt;0 rows&gt; (or 0-length row.names)</span></span></code></pre>
</details>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>loggit2</p>
</div>

<div class="pkgdown-footer-right">
  <p>Developed by Matthias Ollech, Ryan Price.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
